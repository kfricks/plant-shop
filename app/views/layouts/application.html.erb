<!DOCTYPE html>
<html>
  <head>
    <title>PlantShop</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
    <%= javascript_pack_tag 'application' %>
  </head>
  <body>
    <header>
      <div class="global-header">
        <p class="notice"><%= notice %></p>
        <p class="alert"><%= alert %></p>
        <ul class="c-navigation">
          <li class="c-navigation__item">
            <%= link_to("Sunroom", new_user_session_path, class: "c-navigation__title") %>
          </li>
          <%# <li class="c-navigation__item"> %>
            <%# link_to("All Plant Types", plant_types_index_path, class: "c-navigation__link #{active_class(plant_types_index_path)}")  %>
          <%# </li> %>

          <% if current_user %>
          <li class="c-navigation__item">
            <%= link_to("My Plants", user_plants_path(current_user), class: "c-navigation__link #{active_class(user_plants_path(current_user))}") %>
          </li>
          <%# <li class="c-navigation__item"> %>
            <%# link_to("Add a plant to your shelf", new_plant_path, class: "c-navigation__link #{active_class(new_plant_path)}") %>
          <%# </li> %>
          <% end %>
          <li class="c-navigation__item">
            <%= link_to("Find a plant", new_trade_path, class: "c-navigation__link #{active_class(new_trade_path)}") %>
          </li>
          <li class="c-navigation__item">
            <%= link_to("My Trades", trades_path, class: "c-navigation__link #{active_class(trades_path)}") %>
          </li>

          <% if current_user %>
            <div class="avatar c-navigation__item--push-right">
              <div class="avatar-small">
                <%= image_tag current_user.avatar, class: "avatar-small-image" %>
              </div>
              <%= current_user.first_name %>
              <div class="avatar-dropdown">
                <li class="c-navigation__item">
                <%= link_to("Sign Out", destroy_user_session_path, :method => 'delete', class: "c-navigation__link #{active_class(destroy_user_session_path)}") %>
                </li>
                <li class="c-navigation__item">
                  <%= link_to("My Account", user_path(current_user), class: "c-navigation__link #{active_class(user_path(current_user))}") %>
                </li>
                <li class="c-navigation__item">
                  <%= link_to("Edit My Account", edit_user_registration_path, class: "c-navigation__link #{active_class(edit_user_registration_path)}") %>
                </li>
              </div>
            </div>
          <% else %>
            <li class="c-navigation__item c-navigation__item--push-right">
              <%= link_to("Sign In", new_user_session_path, class: "c-navigation__link #{active_class(new_user_session_path)}") %>
            </li>
            <li class="c-navigation__item">
               <%= link_to("Sign Up", new_user_registration_path, class:"c-button c-button--small #{active_class(new_user_registration_path)}") %>
            </li>
          <% end %>

        </ul>
      </div>
    </header>
<!--     <div class="c-section"> -->
    <%= yield %>
    <!-- </div> -->
  </body>
</html>
